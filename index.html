<!DOCTYPE html>
<html>
  <head>
    <title>Title</title>
    <meta charset="utf-8">
      <link rel="stylesheet" type="text/css" href="img/slides.css">
      <link rel="stylesheet" href="./img/font-awesome-4.7.0/css/font-awesome.min.css">
<!--    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      #slideshow .slide .content .cols.two .col { width: 48%; }
    </style>
-->
  <style>
   .section_background {background-color:#c2c444; color: #fff}
   .day_background {background-color:#ececec; color: #000}
  </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# Data manipulation, analysis and visualisation in Python

Specialist course Doctoral schools of Ghent University,<br>
18-19-21 December 2017

Joris Van den Bossche, Stijn Van Hoey

https://github.com/jorisvandenbossche/DS-python-data-analysis

---
class: center, middle

# Who are you?

Go to https://hackmd.io/s/SyxYEr4Mf

<iframe src="https://hackmd.io/s/SyxYEr4Mf#who-am-i" height="400px" width="800px"></iframe>

---

### Joris Van den Bossche

<a href="https://twitter.com/jorisvdbossche"><i class="fa fa-twitter" aria-hidden="true"></i> jorisvdbossche</a>,
<a href="https://github.com/jorisvandenbossche"><i class="fa fa-github" aria-hidden="true"></i> jorisvandenbossche</a><br>

.center[
![:scale 75%](./img/work_joris_1.png)]

.footnote[
https://team.inria.fr/parietal/18-2/paris-saclay-cds/
]
---

### Stijn Van Hoey

<a href="https://twitter.com/svanhoey"><i class="fa fa-twitter" aria-hidden="true"></i> SVanHoey</a>,
<a href="https://github.com/stijnvanhoey"><i class="fa fa-github" aria-hidden="true"></i> stijnvanhoey</a>

.center[
![:scale 75%](./img/work_stijn_1.png)]

.footnote[
https://lifewatch.inbo.be/blog/
]
---
class: center, middle

<iframe src="https://www.gbif.org/dataset/83e20573-f7dd-4852-9159-21566e1e691e" height="600px" width="800px"></iframe>

---
class: middle, section_background

# Setting up a working environment

---

## Setting up a working environment

* Working on a PC from the computer room [1]:

  * Open the "Jupyter Notebook" app on https://athena.ugent.be/
  * Start a Terminal: `New` (upper right) > `Terminal`

* Working on your own laptop [2]

---
## Getting the course materials

* With using git ([1] and recommended for [2])

  First time (inside a terminal or cmd):

  ```
$ git clone https://github.com/jorisvandenbossche/DS-python-data-analysis.git
$ cd DS-python-data-analysis
  ```

  Updating (on second or third day):

  ```
  $ git pull
  ```

* Without git for [2]: download ZIP from https://github.com/jorisvandenbossche/DS-python-data-analysis (green button "Clone or download")

---

## Create an environment with Anaconda (for [2])
(*make sure you have a working internet connection*)

Use our [environment.yml](https://github.com/jorisvandenbossche/DS-python-data-analysis/blob/master/environment.yml) file inside the course folder to set up your Python working environment

In a terminal or cmd, navigate to the `DS-python-data-analysis` folder and use the following command:

```
$ conda env create -f environment.yml
```

---

## Create an environment with Anaconda (for [2])
(*make sure you have a working internet connection*)

When the environment is installed, activate the environment inside the terminal/cmd:

* Windows-users
```
$ activate DS-python-data-analysis
```

* Linux/Mac-users
```
$ source activate DS-python-data-analysis
```

---
## Starting a Jupyter Notebook (for [2])

* In the terminal, navigate to the `DS-python-data-analysis` directory if not there already

* Ensure that the correct environment is activated.

* Start a jupyter notebook server with

  ```
$ jupyter notebook
  ```

  This will open a browser window automatically.

---
class: center, middle

When you see something like this...


![:scale 100%](./img/startup.png)

...relax, you're ready to start!


---
class: center, middle

![:scale 100%](https://i.ytimg.com/vi/PlaYMh-u-2w/maxresdefault.jpg)

---
class: middle, section_background

# Introduction

---
class: center, middle

index | date
:-----:|:----:
2  | 19930000
8  | 1992-930
27  | 20050500
34  | 201405.01
162 | 7/9/2287
1400  | 0.0
2800 | start of the year 2015
3777 | Summer
8733  | 2013-2016
26766  | 26/09/2002 and later 1/1/2016
40788  | Nan
41277  | /
51002  | -999
51007  | -9999

--

.center[Never underestimate the creativity of humans!]

---
class: center, middle

![:scale 100%](./img/datacleaning1.jpg)

---
class: center, middle

![:scale 100%](./img/datacleaning2.jpg)

---
class: center, middle

# Why python?

---
class: center, middle

# Python is...

---

## …OPEN SOURCE
* No license costs!

---

## …WIDESPREAD
* Large world-wide community ensures **fast development**
* Used in **scientific** and non-scientific institutes <br> (Google, NASA, ESRI, VMM,...)
* Python is a standard in **GIS** <br> (commercial and non-commercial tools)
* **Multiplatform** (linux, windows,…)

---

## …READABLE

.center[
```
It's easy to learn, easy to read and fast to develop
```
]
<br><br><br>

---

## …REPRODUCIBLE

.center[

instead of
```
what did you/I clicked a few months ago?’-style WYSISYG
```
]

---

## …MULTI-FUNCTIONAL

* Research and development: the python *scientific ecosystem*
* Daily use: great as ducttape/glue
* **Automation** of time-consuming returning tasks

---

## ...SO WHAT? The Holy Grail ? No!
* Commercial packages give specific support  and more direct help-functions (cfr. MATLAB)
* Commercial packages can be more client-friendly
* For hard number-crunching stuff, NOT the fastest solution
* R, Fortran, C++ etc are also ‘widespread’, so python is just a language amongst the others
* Risk of getting lost in the forest/flood of ‘useful packages’

---
class: middle, section_background

# Installing Python

---

# Installing Python

We **recommend Anaconda Distribution**, a Python distribution (= Python + most used packages) that targets (data) scientists: https://www.anaconda.com/download/

But alternatives: download from python.org/downloads/ and install packages with `pip`, other distributions such as Enthought Canopy, ..

The Anaconda Distribution comes with the **conda package manager**

---

# Conda

### Why using conda?

- Consistent package manager across Windows, Mac and Linux
- Many precompiled packages available
- Less problems with installation!

--

### Why different environments?

- Manage the dependencies of a specific project/paper/group/...
- You can install different version of Python and other packages alongside on your computer
- Easily share environments with other


---
## Small overview of conda commands

Creating a new environment:

```
conda create -n my_env python=3.5 pandas

# or from environment file
conda env create -f environment.yml
```

Activating an environment:

```
activate my_env            # Windows
source activate my_env     # Mac / Linux
```

Install a new package:

```
conda install matplotlib     # if not working, try: pip install ...
```


List all installed packages: `conda list`

List all your environments: `conda info -e`

See the docs: http://conda.pydata.org/docs/using/index.html

---
class: center, middle

### Keep track of your python ecosystem <br>with an  `environment.yml`
<br><br>

```
conda env export > environment.yml
```

---

## Summary for this course

When starting the day:

```
# navigate to the course materials in a terminal
cd .../DS-python-data-analysis

# activate the environment for this course
source activate DS-python-data-analysis   # Linux / macros
activate DS-python-data-analysis          # Windows

# start the notebook
jupyter notebook
```

---
class: middle, section_background

# Working with Python

---

## Ipython console

<br>
.center[![:scale 75%](./img/ipython.png)]

---

## Interactive Development Environment (IDE)

* [**Spyder**](https://pythonhosted.org/spyder/) is shipped with Anaconda. The familiar environment for Matlab/Rstudio-users...
* [**PyCharm**](https://www.jetbrains.com/pycharm/): Popular for web-development and Django applications, powerful when doing 'real' development (packages, libraries, software)
* [Eclipse + **pyDev plugin**](http://www.pydev.org/): If you like working in Eclipse, just add the python environment
* ...

---

## Jupyter Notebook
<small>(*previously called IPython notebook*)</small>

**Jupyter notebook** provides an **interactive** scripting environment,<br> ideal for exploration, prototyping,...

.center[![:scale 70%](./img/notebook.png)]

--

 ...the stuff we're dealing with in this course!


---
class: middle, day_background

# Overview of the first day

Remainder of the morning:

* Introduction to Jupyter notebook
* Recap of the basic python and numpy syntax

Afternoon:

* Introduction to pandas fundamentals

---
class: middle, center

ask for help

![:scale 60%](./img/postit.jpg)

list your never-to-forget commands

---
class: middle, center

![:scale 80%](./img/issuetracker.png)

Report bugs, typo's, suggestions... as issues ([New issue](https://github.com/jorisvandenbossche/DS-python-data-analysis/issues/new))

---
class: middle, section_background

# Python, the basics...

---
class: middle

1. `python_recap/00-jupyter_introduction.ipynb`
2. `python_recap/python_rehearsal.ipynb`

---

## On snake (for [1]): need to change the kernel

.center[
![:scale 70%](img/change_kernel.png)]

---
class: middle, section_background

# Pandas

---
class: center, middle

![](img/pandas_logo.png)

---

## Pandas: data analysis in python

For data-intensive work in Python the [Pandas](http://pandas.pydata.org) library has become essential.

What is `pandas`?

* Pandas can be thought of as *NumPy arrays with labels* for rows and columns, and better support for heterogeneous data types, but it's also much, much more than that.
* Pandas can also be thought of as `R`'s `data.frame` in Python.
* Powerful for working with missing data, working with time series data, for reading and writing your data, for reshaping, grouping, merging your data, ...

It's documentation: http://pandas.pydata.org/pandas-docs/stable/

---

## When do you need pandas?

When working with **tabular or structured data** (like R dataframe, SQL table, Excel spreadsheet, ...):

- Import data
- Clean up messy data
- Explore data, gain insight into data
- Process and prepare your data for analysis
- Analyse your data (together with scikit-learn, statsmodels, ...)

---

## Attention!

Pandas is great for working with heterogeneous and tabular 1D/2D data, but not all types of data fit in such structures!

* When working with array data (e.g. images, numerical algorithms): just stick with numpy
* When working with multidimensional labeled data (e.g. climate data): have a look at [xarray](http://xarray.pydata.org/en/stable/)




---

## Key features

* Fast, easy and flexible input/output for a lot of different data formats
* Working with missing data (`.dropna()`, `pd.isnull()`)
* Merging and joining (`concat`, `join`)
* Grouping: `groupby` functionality
* Reshaping (`stack`, `pivot`)
* Powerful time series manipulation (resampling, timezones, ..)
* Easy plotting

---

# Let's get to it!

### Pandas fundamentals...

  1. Data structures `pandas_01_data_structures.ipynb`
  2. Basic Operations `pandas_02_basic_operations.ipynb`
  3. Indexing and selecting data `pandas_03_selecting_data.ipynb`
  4. Time series data `pandas_04_time_series_data.ipynb`
  5. (Combining data `pandas_05_combining_datasets.ipynb`)

---
class: middle, day_background

# Overview of the second day

1. Combining data with Pandas
2. *Case study:* Bike count
3. Pandas: groupby operations
4. *Case study:* Process/Clean biodiversity field study data
5. Vizualisation: Introduction to matplotlib and plotnine
7. Pandas: reshaping data
8. *Case study:* Bacterial resistance lab study

---

## When starting the day:

```
# navigate to the course materials in a terminal
cd /path/to/your/coursenotes/DS-python-data-analysis

# activate the environment for this course
source activate DS-python-data-analysis   # Linux / macros
activate DS-python-data-analysis          # Windows

# start the notebook
jupyter notebook
```
<br><br>

1. **Read**: Combining data with Pandas: `pandas_05_combining_datasets.ipynb`
2. **Start with** *Case study:* Bike count: <br>
`case1_bike_count.ipynb`


---
class: middle, day_background

# Overview of the third day

1. *Case study:* Bacterial resistance study - finish -
2. *Case study:* Analyse biodiversity field study data
3. *Case study:* Analyse air quality sensor data
4. *Case study:* Process air quality sensor data
5. Closing remarks

---

### Update the course notes

* With using git (inside a terminal, in the directory of the course notes)

.medium[
```
git checkout -b 'work_in_progress'
git commit -am 'exercises so far'
git checkout master
git pull
```
]

* Without git: [download ZIP](https://github.com/jorisvandenbossche/DS-python-data-analysis/archive/master.zip)


### Activate your environment:

.medium[
```
activate DS-python-data-analysis            # Windows
source activate DS-python-data-analysis     # Linux, Max
```
]

### Then, in the same terminal / command line, start:

.medium[
```
jupyter notebook
```
]


---
class: center, middle

# How are you feeling?

![:scale 100%](http://esq.h-cdn.co/assets/15/51/980x490/landscape-1450137389-john-cleese.JPG)


### https://goo.gl/forms/aQggZSh4l9GSaBtM2

Please fill in the questionnaire!

---
class: center, middle

# Closing notes

---
class: center, middle

# Python's scientific ecosystem


#### ## Thanks to Jake VanderPlas for the figure


---
class: center, middle, bgheader
background-image: url(./img/JakeVdP-ecosystem1.svg)
background-size: cover

---
count: false
class: center, middle, bgheader
background-image: url(./img/JakeVdP-ecosystem2.svg)
background-size: cover

---
count: false
class: center, middle, bgheader
background-image: url(./img/JakeVdP-ecosystem3.svg)
background-size: cover

---
count: false
class: center, middle, bgheader
background-image: url(./img/JakeVdP-ecosystem4.svg)
background-size: cover

---
count: false
class: center, middle, bgheader
background-image: url(./img/JakeVdP-ecosystem5.png)
background-size: cover

---

# And many more tools

**Performance**: Numba, Numexpr, Theano, Cython ...

**Visualisation**: Bokeh, Seaborn, Altair, Plotly, Mayavi, HoloViews, ...

**Data structures and (parallel/distributed) computation**: Xarray, Dask, Distributed, Cupy, ...

**Packaging and distribution**: pip/wheels, conda, Anaconda, Canopy, ...

---
class: center, middle

###Reading advice

[Good Enough Practices in Scientific Computing](https://arxiv.org/pdf/1609.00037v1.pdf)

> "*However, while most scientists are careful to validate their laboratory and field equipment, most do not know how reliable their software is*"


---
class: center, middle

## Good luck!

![](http://www.backwaterreptiles.com/images/pythons/angolan-python-for-sale.jpg)


    </textarea>
<!--    <script src="https://gnab.github.io/remark/downloads/remark-latest.min.js">
</script>-->
    <script src="img/remark.min.js" type="text/javascript">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
    <script>
        remark.macros.scale = function (percentage) {
          var url = this;
          return '<img src="' + url + '" style="width: ' + percentage + '" />';
      };
      var slideshow = remark.create();
    </script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </body>
</html>
